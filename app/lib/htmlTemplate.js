
export function generateHTMLTemplate(transactions, totals, userDetails = null) {
  return `
    <!DOCTYPE html>
    <html>
      <head>
        <style>
          body { 
            font-family: Arial, sans-serif; 
            margin: 30px;
            padding: 10px;
            line-height: 1.6;
          }
          .header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #010C80;
          }
          .logo-section {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
          }
          .tagline {
            color: #666;
            font-style: italic;
            margin-top: 5px;
            font-size: 14px;
          }
          .user-details {
            text-align: right;
          }
          .user-details h2 {
            color: #010C80;
            margin-bottom: 10px;
          }
          .totals { 
            display: flex; 
            justify-content: space-around; 
            margin: 15px 0; 
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          }
          .total { 
            text-align: center; 
            padding: 5px 10px;
            border-radius: 4px;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            min-width: 120px;
          }
          .total p:first-child {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
          }
          .income { color: #22c55e; font-weight: bold; }
          .expense { color: #ef4444; font-weight: bold; }
          table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-top: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          }
          th, td { 
            border: 1px solid #ddd; 
            padding: 12px 8px; 
            text-align: left; 
          }
          th:last-child, td:last-child { 
            width: 100px;
            text-align: right;
            padding-right: 15px;
          }
          th { 
            background-color: #010C80; 
            color: white;
            font-weight: bold;
          }
          tr:nth-child(even) {
            background-color: #f9f9f9;
          }
          tr:hover {
            background-color: #f5f5f5;
          }
          .date-range {
            text-align: center;
            margin: 20px 0;
            font-size: 25px;
            font-weight: bold;
            color: #010C80;
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo-section">
            <svg width="120" height="24" viewBox="0 0 1033 206" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M169.62 87.572H34.6871C34.01 87.572 33.3607 87.303 32.8819 86.8241C32.4031 86.3453 32.1342 85.6958 32.1342 85.0186C32.1342 84.3414 32.4031 83.692 32.8819 83.2131C33.3607 82.7343 34.01 82.4652 34.6871 82.4652H45.0734L48.5253 79.9819L53.3137 76.5127H36.201C32.9605 76.5181 29.8549 77.8105 27.5669 80.1057C25.2789 82.4009 23.9959 85.5109 24 88.752V169.615C24 176.395 29.4579 181.871 36.201 181.871H160.976C162.582 181.868 164.172 181.549 165.654 180.931C167.137 180.314 168.483 179.41 169.616 178.272C170.749 177.133 171.647 175.783 172.258 174.298C172.869 172.812 173.181 171.221 173.177 169.615V91.1299C173.176 90.1865 172.802 89.2819 172.135 88.6148C171.468 87.9478 170.563 87.5727 169.62 87.572Z" fill="#010C80"/>
              <path d="M85.8144 78.8891C85.9046 76.4595 86.4942 74.0746 87.5466 71.883C88.599 69.6914 90.0916 67.7402 91.9312 66.1511C93.7709 64.562 95.9181 63.369 98.2391 62.6465C100.56 61.9241 103.005 61.6877 105.421 61.9521C107.838 62.2165 110.174 62.976 112.284 64.1833C114.394 65.3905 116.232 67.0196 117.685 68.969C119.137 70.9184 120.173 73.1462 120.727 75.5135C121.28 77.8808 121.341 80.3369 120.903 82.7285H148.334L165.623 69.8748L130.852 24L51.7817 82.7285H86.0612C85.8451 81.4613 85.7683 80.1743 85.8324 78.8904M88.7188 24.7751L55.8492 74.7515L107.154 36.927L88.7188 24.7751Z" fill="#010C80"/>
              <path d="M163.97 76.4299L155.532 82.3962H168.573C175.869 82.3962 177.863 88.0216 177.948 90.8343V166.948C182.38 164.766 184 159.532 184 157.231V89.3001C184 78.7993 175.477 76.3446 171.215 76.4299H163.97Z" fill="#010C80"/>
              <path d="M271.055 142.861C263.585 142.861 256.903 141.533 251.009 138.877C245.115 136.233 240.477 132.23 237.093 126.869C233.698 121.52 232 114.813 232 106.747V103.654H244.242V106.747C244.242 115.298 246.746 121.66 251.755 125.832C256.763 130.017 263.196 132.109 271.055 132.109C279.107 132.109 285.243 130.289 289.463 126.651C293.696 123.012 295.812 118.445 295.812 112.951C295.812 109.118 294.854 106.068 292.938 103.799C291.022 101.543 288.342 99.7058 284.898 98.2866C281.466 96.8554 277.439 95.6 272.819 94.5205L265.161 92.6102C259.17 91.0334 253.865 89.117 249.244 86.861C244.624 84.6049 241.016 81.6333 238.421 77.946C235.814 74.2588 234.51 69.5162 234.51 63.7185C234.51 57.9208 235.959 52.9114 238.858 48.6905C241.756 44.4695 245.831 41.2249 251.082 38.9568C256.345 36.7008 262.414 35.5728 269.29 35.5728C276.263 35.5728 282.521 36.7796 288.063 39.1933C293.617 41.5949 297.989 45.1305 301.178 49.8003C304.379 54.47 305.98 60.3405 305.98 67.4118V73.5977H293.738V67.4118C293.738 62.4025 292.683 58.3756 290.573 55.3312C288.463 52.2746 285.565 50.0125 281.878 48.5449C278.191 47.0651 273.995 46.3253 269.29 46.3253C262.511 46.3253 257.06 47.8232 252.937 50.8191C248.802 53.8272 246.734 58.0784 246.734 63.5729C246.734 67.2117 247.619 70.1591 249.39 72.4151C251.16 74.6711 253.665 76.5148 256.903 77.946C260.153 79.3651 264.033 80.6144 268.544 81.6939L276.203 83.6225C282.193 84.896 287.572 86.6366 292.337 88.8441C297.103 91.0637 300.911 94.0596 303.761 97.8318C306.611 101.616 308.036 106.553 308.036 112.642C308.036 118.742 306.514 124.049 303.47 128.561C300.426 133.085 296.127 136.597 290.573 139.095C285.019 141.606 278.513 142.861 271.055 142.861ZM339.123 170.298H327.481V68.7582H338.832V80.6933H340.887C342.755 77.0545 345.775 73.81 349.946 70.9596C354.13 68.1093 359.951 66.6841 367.409 66.6841C373.606 66.6841 379.281 68.182 384.435 71.1779C389.589 74.1739 393.712 78.4251 396.805 83.9318C399.897 89.4384 401.443 96.067 401.443 103.818V105.746C401.443 113.412 399.921 120.04 396.877 125.632C393.833 131.236 389.735 135.511 384.581 138.458C379.427 141.406 373.703 142.88 367.409 142.88C362.401 142.88 358.156 142.219 354.676 140.896C351.183 139.562 348.358 137.864 346.199 135.802C344.04 133.74 342.367 131.63 341.178 129.471H339.123V170.298ZM364.317 132.564C371.787 132.564 377.85 130.18 382.507 125.414C387.176 120.647 389.51 113.994 389.51 105.455V104.127C389.51 95.5758 387.176 88.9169 382.507 84.1501C377.85 79.3833 371.787 76.9999 364.317 76.9999C356.956 76.9999 350.892 79.3833 346.126 84.1501C341.36 88.9169 338.977 95.5758 338.977 104.127V105.455C338.977 113.994 341.36 120.647 346.126 125.414C350.892 130.18 356.956 132.564 364.317 132.564ZM455.377 142.88C448.113 142.88 441.729 141.333 436.223 138.24C430.717 135.147 426.443 130.799 423.399 125.195C420.355 119.592 418.833 113.108 418.833 105.746V103.981C418.833 96.5097 420.355 89.9721 423.399 84.3684C426.443 78.7769 430.669 74.4286 436.077 71.3235C441.474 68.2306 447.658 66.6841 454.631 66.6841C461.41 66.6841 467.407 68.1335 472.622 71.0324C477.824 73.9313 481.899 78.0855 484.846 83.4951C487.792 88.8926 489.266 95.2301 489.266 102.508V107.802H430.475C430.766 115.565 433.27 121.629 437.987 125.996C442.705 130.374 448.598 132.564 455.668 132.564C461.853 132.564 466.619 131.139 469.966 128.288C473.301 125.438 475.853 122.048 477.624 118.118L487.647 122.976C486.167 126.032 484.13 129.083 481.535 132.127C478.928 135.171 475.538 137.725 471.367 139.787C467.195 141.849 461.865 142.88 455.377 142.88ZM430.62 98.2321H477.478C477.09 91.5489 474.804 86.3394 470.621 82.6036C466.449 78.8678 461.119 76.9999 454.631 76.9999C448.059 76.9999 442.656 78.8678 438.424 82.6036C434.204 86.3394 431.602 91.5489 430.62 98.2321ZM521.262 140.824H509.621V68.7582H520.953V80.9844H523.027C524.591 77.5397 527.265 74.4225 531.049 71.6328C534.832 68.8309 540.411 67.43 547.784 67.43C553.18 67.43 558.013 68.558 562.281 70.8141C566.562 73.0701 569.976 76.4117 572.523 80.8388C575.081 85.2538 576.361 90.7059 576.361 97.195V140.824H564.719V98.0865C564.719 90.906 562.924 85.6966 559.335 82.4581C555.757 79.2196 550.925 77.6003 544.837 77.6003C537.864 77.6003 532.189 79.8564 527.811 84.3684C523.445 88.8926 521.262 95.6243 521.262 104.563V140.824ZM630.422 142.88C624.226 142.88 618.526 141.406 613.323 138.458C608.121 135.511 603.998 131.236 600.954 125.632C597.91 120.04 596.388 113.412 596.388 105.746V103.818C596.388 96.164 597.91 89.5597 600.954 84.0045C603.998 78.4494 608.097 74.1739 613.251 71.1779C618.405 68.182 624.129 66.6841 630.422 66.6841C635.431 66.6841 639.675 67.3512 643.156 68.6854C646.648 70.0075 649.474 71.6752 651.632 73.6887C653.791 75.7021 655.464 77.8369 656.653 80.0929H658.708V37.665H670.35V140.824H658.999V128.87H656.944C654.979 132.509 651.935 135.754 647.812 138.604C643.677 141.454 637.88 142.88 630.422 142.88ZM633.515 132.564C640.973 132.564 647.036 130.18 651.705 125.414C656.374 120.647 658.708 113.994 658.708 105.455V104.127C658.708 95.5758 656.374 88.9169 651.705 84.1501C647.036 79.3833 640.973 76.9999 633.515 76.9999C626.142 76.9999 620.072 79.3833 615.306 84.1501C610.553 88.9169 608.176 95.5758 608.176 104.127V105.455C608.176 113.994 610.553 120.647 615.306 125.414C620.072 130.18 626.142 132.564 633.515 132.564ZM706.44 170.298H694.798V68.7582H706.149V80.6933H708.222C710.078 77.0545 713.097 73.81 717.281 70.9596C721.453 68.1093 727.274 66.6841 734.744 66.6841C740.928 66.6841 746.598 68.182 751.752 71.1779C756.906 74.1739 761.029 78.4251 764.121 83.9318C767.225 89.4384 768.778 96.067 768.778 103.818V105.746C768.778 113.412 767.256 120.04 764.212 125.632C761.156 131.236 757.051 135.511 751.897 138.458C746.743 141.406 741.025 142.88 734.744 142.88C729.723 142.88 725.473 142.219 721.992 140.896C718.5 139.562 715.674 137.864 713.516 135.802C711.357 133.74 709.69 131.63 708.513 129.471H706.44V170.298ZM731.633 132.564C739.103 132.564 745.173 130.18 749.842 125.414C754.51 120.647 756.845 113.994 756.845 105.455V104.127C756.845 95.5758 754.51 88.9169 749.842 84.1501C745.173 79.3833 739.103 76.9999 731.633 76.9999C724.272 76.9999 718.209 79.3833 713.443 84.1501C708.677 88.9169 706.294 95.5758 706.294 104.127V105.455C706.294 113.994 708.677 120.647 713.443 125.414C718.209 130.18 724.272 132.564 731.633 132.564ZM811.798 142.88C806.789 142.88 802.224 141.994 798.1 140.223C793.965 138.452 790.721 135.899 788.369 132.564C786.016 129.228 784.84 125.153 784.84 120.337C784.84 115.425 786.016 111.368 788.369 108.166C790.721 104.976 793.965 102.568 798.1 100.943C802.224 99.3298 806.838 98.5232 811.943 98.5232H836.245V93.2106C836.245 88.1042 834.748 84.0773 831.752 81.1299C828.757 78.1825 824.313 76.7088 818.419 76.7088C812.622 76.7088 808.105 78.1098 804.867 80.9116C801.629 83.7134 799.422 87.4735 798.246 92.1917L787.332 88.644C788.508 84.6171 790.376 80.9601 792.934 77.6731C795.493 74.374 798.907 71.7177 803.176 69.7043C807.444 67.6908 812.574 66.6841 818.565 66.6841C827.805 66.6841 834.978 69.0675 840.084 73.8342C845.189 78.601 847.742 85.3084 847.742 93.9565V126.523C847.742 129.471 849.118 130.944 851.871 130.944H858.51V140.824H848.342C845.092 140.824 842.485 139.914 840.52 138.095C838.556 136.275 837.573 133.843 837.573 130.799V130.053H835.809C834.73 131.921 833.28 133.862 831.461 135.875C829.642 137.888 827.162 139.562 824.022 140.896C820.881 142.219 816.806 142.88 811.798 142.88ZM813.126 132.855C820.002 132.855 825.574 130.817 829.843 126.742C834.111 122.666 836.245 116.941 836.245 109.567V107.948H812.38C807.772 107.948 803.964 108.954 800.956 110.968C797.961 112.981 796.463 116.001 796.463 120.028C796.463 124.067 798.016 127.215 801.12 129.471C804.212 131.727 808.214 132.855 813.126 132.855ZM920.103 140.805H900.948C896.825 140.805 893.66 139.671 891.453 137.403C889.246 135.147 888.142 132.054 888.142 128.124V78.9103H866.478V68.74H888.142V43.0868H899.784V68.74H923.359V78.9103H899.784V126.36C899.784 129.307 901.203 130.781 904.041 130.781H920.103V140.805ZM953.827 140.824H942.186V37.665H953.827V80.2384H955.901C956.883 78.0794 958.381 76.0417 960.394 74.1253C962.407 72.2089 965.009 70.6139 968.198 69.3404C971.387 68.0668 975.437 67.43 980.349 67.43C985.757 67.43 990.596 68.5823 994.865 70.8868C999.133 73.1914 1002.55 76.533 1005.11 80.9116C1007.66 85.2781 1008.94 90.7059 1008.94 97.195V140.824H997.302V98.0865C997.302 90.906 995.507 85.6966 991.918 82.4581C988.328 79.2196 983.49 77.6003 977.402 77.6003C970.429 77.6003 964.76 79.8564 960.394 84.3684C956.016 88.8926 953.827 95.6243 953.827 104.563V140.824Z" fill="#010C80"/>
            </svg>
            <p class="tagline">Effortless spending management</p>
          </div>
          <div class="user-details">
            <h3>${userDetails?.name || 'Not Available'}</h3>
            <p> ${userDetails?.email || 'Not Available'}</p>
          </div>
        </div>
        
        <div class="date-range">Transaction Report</div>
        <div class="totals">
          <div class="total">
            <p>Total Income</p>
            <p class="income">₹ ${totals.income.toFixed(2)}</p>
          </div>
          <div class="total">
            <p>Total Expenses</p>
            <p class="expense">₹ ${totals.expense.toFixed(2)}</p>
          </div>
          <div class="total">
            <p>Net</p>
            <p class="${totals.income - totals.expense >= 0 ? 'income' : 'expense'}">₹ ${(totals.income - totals.expense).toFixed(2)}</p>
          </div>
        </div>
        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Description</th>
              <th>Category</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody>
            ${transactions.map(transaction => `
              <tr>
                <td>${new Date(transaction.date).toLocaleDateString()}</td>
                <td>${transaction.description}</td>
                <td>${transaction.category}</td>
                <td class="${transaction.type === 'INCOME' ? 'income' : 'expense'}">₹ ${transaction.amount.toFixed(2)}</td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      </body>
    </html>
  `;
}
